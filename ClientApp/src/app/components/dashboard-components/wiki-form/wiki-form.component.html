<!-- WikiForm Component-->
<div class="container-fluid pb-4 pt-3 px-0 pt-0 d-inline-flex flex-row justify-content-between">
  <button class="btn btn-light float-right" [routerLink]="['../']">
    <i class="fa fa-arrow-left pr-2"></i>
    Return to dashboard
  </button>
  <button class="btn btn-success float-right" form="ngForm" [disabled]="isWikiDataUpdated ? false : true">
    <i class="fa fa-check-square pr-2" style="color:white"></i>
    Save changes
  </button>
</div>

<div class="jumbotron py-3 pr-0 mb-3 d-flex flex-row align-items-center" >
  <div class="container-fluid m-0 d-inline-flex flex-row">
    <div class="row align-items-center flex-fill">
      <i class="fa fa-object-group py-2 pr-4 m-0"></i>
      <p class="p-0 m-0">Wiki form</p>
    </div>
  </div>
</div>
<div>
  <div class="card card-container p-3 mb-3">
    <form
      *ngIf="!isSuccessful && !isFailed"
      [formGroup]="form"
      id="ngForm"
      (ngSubmit)="onSubmit()"
    >
      <div class="form-group">
        <label for="name" [ngClass]="{'error': submitted && form.controls.name.errors}">
          Name
        </label>
        <input
          type="text"
          class="form-control"
          name="name"
          formControlName="name"
          [ngClass]="{'error': submitted && form.controls.name.errors}"
        />
        <div class="invalid-feedback" *ngIf="submitted && form.controls.name.errors">
          <sup>*</sup>Enter wiki name
        </div>
      </div>
      <div class="form-group">
        <label for="url" [ngClass]="{'error': submitted && form.controls.url.errors}">
          URL
        </label>
        <input
          type="url"
          class="form-control"
          name="url"
          formControlName="url"
          [ngClass]="{'error': submitted && form.controls.url.errors}"
        />
        <div class="invalid-feedback" *ngIf="submitted && form.controls.url.errors">
          <sup>*</sup>Enter wiki url
        </div>
      </div>
      <div class="form-group">
        <label for="description" [ngClass]="{'error': submitted && form.controls.description.errors}">
          Description
        </label>
        <textarea type="description"
        class="form-control"
        name="description"
        id="description"
        formControlName="description"
        rows="5"
        [ngClass]="{'error': submitted && form.controls.description.errors}"
        ></textarea>
        <div class="invalid-feedback" *ngIf="submitted && form.controls.description.errors">
          <sup>*</sup>Enter wiki description
        </div>
      </div>
    </form>
  
    <div class="alert alert-success m-0 align-items-center text-center d-flex flex-row  justify-content-between" *ngIf="isSuccessful">
      Wiki created!
      <button class="btn btn-success float-right" (click)="resetForm()">
        <i class="fa fa-close" style="color:white"></i>
      </button>
    </div>
    <div class="alert alert-danger m-0 align-items-center text-center d-flex flex-row  justify-content-between" *ngIf="isFailed">
      Wiki not created!
      <button class="btn btn-danger float-right" (click)="resetForm(false)">
        <i class="fa fa-close" style="color:white"></i>
      </button>
    </div>
  </div>
</div>
